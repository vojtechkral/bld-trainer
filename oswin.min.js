// Oswin 0.1 (224f96594c224b63f41c46782165fda9495ca909)
(function(q,u){"function"===typeof define&&define.amd?define(["jquery"],u):q.oswin=u(jQuery)})(this,function(q){if(!function(){if(Object.defineProperty)try{return Object.defineProperty({},"prop",{}),!0}catch(f){return!1}else return!1}())return console.error("Oswin: defineProperty required. (IE <= 8 is not supported.)"),!1;q={};var u={};(function(f,a,b,g){function h(n,l,c,k,d){var v;if(1==c)v=Object.keys(n);else if(2==c)v=Object.keys(l);else if(3==c){v=[];for(var e in n)e in l&&v.push(e)}else if(n!==
g&&l!==g){v=Object.keys(n);var r=Object.keys(l);for(e=r.length-1;0<=e;e--)r[e]in n||v.push(r[e])}else v=n!==g?Object.keys(n):Object.keys(l);r=v.length;for(e=0;e<r;e++){var m=v[e],b=3==c||n!==g&&m in n,w=3==c||l!==g&&m in l,q=b&&f.isNonArrayObject(n[m]),p=w&&f.isNonArrayObject(l[m]),b=k(m,{"in":b,isObj:q,obj:n},{"in":w,isObj:p,obj:l},d);b instanceof a.simWalkStop||(q&&2!=c||p&&1!=c)&&h(q?n[m]:g,p?l[m]:g,c,k,b)}}a.inherit=function(a,b){a.prototype=Object.create(b.prototype);a.prototype.constructor=
a};a.defProp=function(a,b,c,k,d,v){Object.defineProperty(a,b,{configurable:c,enumerable:k,get:d,set:v})};a.defPrivate=function(n,b){a.defProp(n,"priv",!1,!1,function(){return b})};a.uniqueID=function(a){return(a?a:"")+Math.floor(1E5*Math.random()).toString(36)+Date.now().toString(36)};f.argsSubstitute=function(a,b){for(var c=a,k=0,d=b.length;k<d;k++)c=c.replace(":"+k,b[k]);return c};f.isArrayLike=function(a){return"object"===typeof a&&"length"in a&&"number"===typeof a.length&&"splice"in a&&"function"===
typeof a.splice};f.isNonArrayObject=function(a){return"object"===typeof a&&!f.isArrayLike(a)};f.dotResolve=function(a,b){for(var c=b.split("."),k=!0,d=0;d<c.length-1;d++)if("object"===typeof a[c[d]]||"function"===typeof a[c[d]])a=a[c[d]];else{k=!1;break}return{parent:a,result:k?a[c[c.length-1]]:g}};a.simWalkStop=function(){};f.simWalk=function(a,b,c,k,d){if(f.isNonArrayObject(a)&&f.isNonArrayObject(b))h(a,b,c,k,d);else throw"Oswin: simWalk(): Invalid arguments: obj1 or obj2 is not an object";};f.simWalk.stop=
function(){return new a.simWalkStop}})(q,u,jQuery);(function(f,a,b,g){a.Snippet=function(){this.p1=this.p2=!1;this.args=[]};a.Parser=function(a,b,c){this.name=a;this.p1re=b;this.p2re=c;this.current=this.attr_orig=this.attr=!1;this.result=[]};a.Parser.prototype.error=function(){throw"Oswin: Invalid "+this.name+" syntax: '"+this.attr_orig+"'";};a.Parser.prototype.parse_p1=function(){var a=this.p1re.exec(this.attr);null===a&&this.error();this.attr=this.attr.slice(a[0].length);this.current.p1=a[1]};a.Parser.prototype.parse_p2=
function(){if("/"!=this.attr[0])return!1;this.attr=this.attr.slice(1);match=this.p2re.exec(this.attr);null===match&&this.error();this.attr=this.attr.slice(match[0].length);this.current.p2=match[1];return!0};a.Parser.prototype.parse_args=function(){if("("==this.attr[0]){var a,b=!1;for(a=1;a<this.attr.length&&(b||")"!=this.attr[a]);a++)'"'==this.attr[a]&&(b=b?"\\"==this.attr[a]:!0);a>=this.attr.length&&this.error();b="["+this.attr.slice(1,a)+"]";this.attr=this.attr.slice(a+1);try{b=JSON.parse(b)}catch(c){this.error()}this.current.args=
b}};a.Parser.prototype.check_next=function(){if(0==this.attr.length)return!1;if(","==this.attr[0])return this.attr=this.attr.replace(/^,\s*/,""),!0;this.error()};a.Parser.prototype.parse_one=function(){this.current=new a.Snippet;this.parse_p1();this.parse_p2()&&this.parse_args();this.result.push(this.current)};a.Parser.prototype.parse=function(a){this.attr_orig=this.attr=a;this.current=!1;for(this.result=[];this.parse_one(),this.check_next(););return this.result};var h=/^([_$a-zA-Z\xA0-\uFFFF][._$a-zA-Z0-9\xA0-\uFFFF]*)/;
a.OCParser=function(){a.Parser.call(this,"data-oc",/^([^\s\/\"\'\(\),]+)/,h)};a.OCParser.prototype=a.Parser.prototype;a.ocParser=new a.OCParser;a.OVParser=function(){a.Parser.call(this,"data-ov",/^([._$a-zA-Z\xA0-\uFFFF][._$a-zA-Z0-9\xA0-\uFFFF]*)/,h)};a.OVParser.prototype=a.Parser.prototype;a.ovParser=new a.OVParser})(q,u,jQuery);(function(f,a,b,g){function h(a,e,c){this.ev=a!==g?a:!1;this.cb=e!==g?e:!1;this.args=c!==g?c:[]}function n(a,e){var c=a.attr("id");if(c===g){var d=a.prop("tagName");d&&
(c=d.toLowerCase())}return c===g?g:c+e.split(/\W/).map(function(a){return a.charAt(0).toUpperCase()+a.slice(1)}).join("")}function l(a,e){var c=b.Event(e);c.currentTarget=c.target=a[0];return c}function c(c,e){e.cb||(e.cb=n(c,e.ev));if(!e.cb)throw"Oswin: Callback neither specified nor could it be inferred";if(e.ev===a.evts.init)e.call(l(c,a.evts.init));else c.on(e.ev+a.evts_ns,function(a){var c=[].slice.call(arguments,1);return e.call(a,c)})}function k(a,e){for(var d=0;d<e.length;d++){var b=e[d];
c(a,new h(b.p1,b.p2,b.args))}}h.prototype.setCbFunc=function(a,c){this.cbfunc=a;this.cbthis=c};h.prototype.resolve=function(){!1!==f.config.resolver(this)||f.config.noBuiltins||a.builtins_resolver(this)};h.prototype.call=function(c,e){this.cbfunc===g&&this.resolve();if(this.cbfunc===g)throw"Oswin: Could not find callbak: "+this.cb;b.isArray(e)?e=e.concat(this.args):e=this.args;f.event=c;f.event.inst=b.data(c.currentTarget,"oswin:inst");a.defProp(f.event,"$target",!0,!0,function(){return b(this.currentTarget)});
return this.cbfunc.apply(this.cbthis,e)};var d={};a.builtins=d;a.default_resolver=function(a){var c=f.config.namespace;if("function"!==typeof c&&"object"!==typeof c)throw"Oswin: Invalid namespace";c=f.dotResolve(c,a.cb);if("function"!==typeof c.result)return!1;a.setCbFunc(c.result,c.parent);return a};a.builtins_resolver=function(a){return a.cb in d?(a.setCbFunc(d[a.cb],f),a):!1};d.$=function(a){var c=[].slice.call(arguments,1);"function"===typeof b.fn[a]?b.fn[a].apply(f.event.$target,c):console.error("Oswin: No such function in jQuery: "+
a)};d.css=function(){b.fn.css.apply(f.event.$target,arguments)};d.log=function(){if("console"in window&&"log"in window.console&&!(1>arguments.length))if("apply"in window.console.log&&"function"==typeof window.console.log.apply)window.console.log.apply(window.console,arguments);else{for(var a="window.console.log(arguments[0]",c=1;c<arguments.length;c++)a+=",arguments["+c+"]";logfn=new Function("arguments",a+")");logfn(arguments)}};d.alert=function(a){alert(a)};d.focus=function(a){a!==g?"string"===
typeof a?b(a).focus():a.focus():f.event.$target.focus()};d.html=function(a,c){var d=!f.config.noAuto;if(!0===c){var k=b.parseHTML(a);f.event.$target.append(k);d&&b(k).oswinBind()}else d&&f.event.$target.html(a).children().oswinBind()};d.trigger=function(a,c){if("string"!==typeof a&&"string"!==typeof c)throw"Oswin: trigger(): Invalid arguments";var d=[].slice.call(arguments,3);b(c).trigger(a,d)};b.fn.oswinCall=function(a,c){if("string"===typeof a){var d=l(this,"oswin"),k=new h(d.type,a,[].slice.call(arguments,
1));k.call(d)}else a instanceof b.Event&&"string"===typeof c&&(k=new h(a.type,c,[].slice.call(arguments,2)),k.call(a));return this};b.fn.oswinBind=function(d){if(d===g){for(var e=0;e<f.config.binds.length;e++){var r=f.config.binds[e][0],m=f.config.binds[e].slice(1);if("string"===typeof r)for(var r=this.find(r).add(this.filter(r)),l=r.length-1;0<=l;l--){var n=b(r[l]);n.oswinBind.apply(n,m)}}r=this.find("[data-oc]").addBack("[data-oc]");for(e=r.length-1;0<=e;e--)m=b(r[e]),l=a.ocParser.parse(m.attr("data-oc")),
k(m,l)}else e=[].slice.call(arguments,1),0<e.length?(r=e.shift(),e=new h(d,r,e),c(this,e)):(e=a.ocParser.parse(d),k(this,e));return this};b.fn.oswinUnbind=function(c){return this.off(c+a.evts_ns)}})(q,u,jQuery);(function(f,a,b,g){function h(a,b,d){this.$node=a;this.access=b;this.accessFunc=!1;this.args=d}function n(c,k,d){b.data(c[0],"oswin:inst",k);c=c.children();for(var f=0,e=c.length;f<e;f++){$i=b(c[f]);var g=$i.attr("data-ov");if(g){for(var g=a.ovParser.parse(g),m,l=!0,q=0,u=g.length;q<u;q++){var p=
"."==g[q].p1[0]?d+g[q].p1:g[q].p1;"."==p[0]&&(p=p.substr(1));0==q&&(m=p);"view"==g[q].p2?l=!1:(new h($i,g[q].p2,g[q].args)).addTo(k,p)||(l=!1)}l&&n($i,k,m)}else n($i,k,d)}}Access={display:function(a,b,d,f){if(f===g)return"none"!=this.css("display");f.valueOf()?this.show():this.hide()},hide:function(a,b,d,g){return!Access.display.call(this,a,b,d,!g.valueOf())},"void":function(a,b,d,f){if(f===g)return null},html:function(a,b,d,h){if(h===g)return this.html();this.html(h);f.config.noAuto||this.oswinBind()},
href:function(a,b,d,h){if(h===g)return this.attr("href");if(0==d.length)this.attr("href",h);else{b=d[0];for(var e=[],l=1,m=d.length;l<m;l++)e.push(a.prop(d[l]));e.push(h);this.attr("href",f.argsSubstitute(b,e))}}};h.prototype.clone=function(a){a=new h(a,this.access,this.args);a.accessFunc=this.accessFunc;this.templates&&(a.templates=this.templates);return a};var l={input:!0,select:!0,textarea:!0,keygen:!0,output:!0};h.prototype.inferAccess=function(a){!0===a.preferVoid?this.access="void":(a=(a=this.$node.prop("tagName"))?
a.toLowerCase():g,this.access=l[a]?"val":"text")};h.prototype.resolveAccess=function(a){this.access||this.inferAccess(a);if(Access[this.access]!==g)this.accessFunc=Access[this.access];else if(b.fn[this.access]!==g)this.accessFunc="jQuery";else throw"Oswin: View: No such access function: "+this.access;};h.prototype.addTo=function(a,b){if(b in a.priv.prop){var d=a.priv.prop[b];this.resolveAccess(d);return d.addViewEle(this)}console.warn("Oswin: View: No such path in model: "+b)};h.prototype.getset=
function(a,f,d){return"jQuery"===this.accessFunc?d===g?b.fn[this.access].apply(this.$node,this.args):b.fn[this.access].apply(this.$node,this.args.concat([d])):this.accessFunc.call(this.$node,a,f,this.args,d)};h.prototype.assignID=function(){var c=this.$node.attr("data-ov-id");c===g&&(c=a.uniqueID(),this.$node.attr("data-ov-id",c));this.id=c;delete this.$node};a.view=function(a,g){var d;if("string"===typeof a){d=b('[data-ov="'+a+'/view"]');if(1>d.length)throw"Oswin: No such view: "+a;if(1<d.length)throw"Oswin: Ambigous view name: "+
a;}else d=a;n(d,g,"");return d};a.ViewTemplate=function(a,b){this.prop=a.priv.prop;a.view(b);for(var d in this.prop){var f=this.prop[d];if(f.viewEles)for(var e=f.viewEles.length-1;0<=e;e--)f.viewEles[e].assignID();else delete this.prop[d]}this.html=b.prop("outerHTML");if(this.html===g)throw"Oswin: View: Could not get element's html source via outerHTML";b.detach()};a.ViewTemplate.prototype.makeNode=function(){return b(b.parseHTML(this.html))};a.ViewTemplate.prototype.makeViewOn=function(a,f){for(var d in this.prop)for(var g=
this.prop[d],e=g.viewEles.length-1;0<=e;e--){var h=g.viewEles[e],l=f.find("[data-ov-id="+h.id+"]"),h=h.clone(l);a.priv.prop[d].addViewEle(h,!0);a.priv.prop[d].view()}d=f.find("*").addBack();for(e=d.length-1;0<=e;e--)b.data(d[e],"oswin:inst",a)};f.setAccessFunc=function(a,b,d){if("string"!==typeof a||"function"!==typeof b)throw"Oswin: view.setAccessFunc(): invalid argument";Access[a]=b;!0===d&&(Access[a].watch=!0)}})(q,u,jQuery);(function(f,a,b,g){function h(a,t,b){this.value=a;this.name=t;this.inst=
b}function n(){}function l(a,t){h.call(this,new n,a,t)}function c(a,t,b){h.call(this,a.make(),t,b);this.value.parent=b;b.priv.mergeNestedProps(this.name,this.value)}function k(a){this.models=a;this.insts=[]}function d(p,t){var b=new k(p);a.defPrivate(this,b);b.prop=t;var c=this;a.defProp(this,"length",!1,!0,function(){return c.priv.insts.length})}function q(a){this.models=a}function e(a,b,c){h.call(this,a.make(this),b,c)}function r(){this.prop={}}function m(p){var t=new r;a.defPrivate(this,t);var c=
p.priv.config;b.extend(this,c.members);t.factory=p;t.defineData(this,c);for(var d in c.change){p=c.change[d];if(!(d in t.prop))throw"Oswin: No such model property: "+d;if("function"!==typeof p)throw"Oswin: Change handler not a function: "+p;t.prop[d].change=p}this.ctor&&this.ctor()}function u(){}var w={data:{},change:{}},x={POST:!0,GET:!0,PUT:!0,DELETE:!0};a.Property=h;h.prototype.preferVoid=!1;h.prototype.get=function(){return this.value};h.prototype.set=function(a,b){this.value=a;this.callChange();
this.view(b)};h.prototype.change=null;h.prototype.callChange=function(){if(this.change){var a=this.change;this.change=null;a.call(this.inst,this.value,this.name);this.change=a}};h.prototype.addViewEle=function(p){var b=this;if("void"!==p.access){this.viewEles===g?this.viewEles=[p]:this.viewEles.push(p);var c=this.viewEles.length-1;if("val"==p.access||p.accessFunc&&p.accessFunc.watch){var d=function(){b.set(p.getset(b.inst,b.name),c)};p.$node.on("change"+a.evts_ns,d).on("keyup"+a.evts_ns,d)}return!0}};
h.prototype.view=function(a){if(this.viewEles!==g){var b="viewValue"in this?this.viewValue:this.value,c=this.viewEles.length-1;for(;0<=c;c--)c!==a&&this.viewEles[c].getset(this.inst,this.name,b)}};n.prototype.toJSON=function(){var a={},b;for(b in this)if(this.hasOwnProperty(b)&&"function"!==typeof this[b]){var c=this[b];a[b]="object"===typeof c&&"function"===typeof c.toJSON?c.toJSON():c}return a};a.inherit(l,h);a.NestedProperty=l;l.prototype.preferVoid=!0;l.prototype.get=function(){return"alt"in this?
this.alt:this.value};l.prototype.set=function(a){if("object"!==typeof a)this.alt=a,this.view();else{"alt"in this&&(this.alt=a,this.view(),delete this.alt);for(var b in this.value)b in a&&(this.value[b]=a[b])}};l.prototype.view=function(a){if(this.viewEles!==g&&"alt"in this)for(var b=this.viewEles.length-1;0<=b;b--)b!==a&&this.viewEles[b].getset(this.inst,this.name,this.alt)};a.inherit(c,h);a.NestedModelProperty=c;c.prototype.preferVoid=!0;c.prototype.get=function(){return this.value.data};c.prototype.set=
function(a,b){a instanceof m&&a.priv.factory==this.value.priv.factory?(this.value=a,this.value.parent=this.inst,this.inst.priv.mergeNestedProps(this.name,this.value)):this.value.data=a};c.prototype.addViewEle=function(a){this.value.view(a.$node);return!1};k.prototype.syncProps=function(p,b){var c;for(c=this.insts.length;c<b;c++)delete p[c];for(c=b;c<this.insts.length;c++)(function(b){a.defProp(p,b,!0,!0,function(){return p.priv.insts[b].data},function(a){p.priv.insts[b].data=a})})(c);this.prop.callChange()};
k.prototype.templateForModel=function(a){for(var b=this.models.length-1;0<=b;b--)if(this.models[b]==a)return this.colViewEle.templates[b];throw"Oswin: Internal error";};k.prototype.toInstances=function(a,b){for(var c=[].slice.call(b,0,a),d=a,e=b.length;d<e;d++)c[d]=b[d]instanceof m?b[d]:this.models[0].make(b[d]),c[d].parent=this.prop.inst;return c};k.prototype.syncView=function(a,c,d){for(var e=this.prop.viewEles.length-1;0<=e;e--){var f=this.prop.viewEles[e];if("void"==f.access){for(var g=f.$node.children(),
h=0;h<c;h++)b(g[a+h]).detach();for(var g=f.$node.children(),l,h=0;h<d;h++){var k=a+h,m=this.templateForModel(this.insts[k].priv.factory);$j=m.makeNode();0==h?0==k?f.$node.prepend($j):b(g[k-1]).after($j):l.after($j);$j.oswinBind();l=$j;m.makeViewOn(this.insts[k],$j)}}}this.prop.view()};d.prototype.splice=function(a){var b=this.length,c=[].splice.apply(this.priv.insts,this.priv.toInstances(2,arguments));this.priv.syncProps(this,b);this.priv.colViewEle&&(a>b&&(a=b),0>a&&(a=b+a),0>a&&(a=0),b=arguments.length-
2,0>b&&(b=0),this.priv.syncView(a,c.length,b));return c};d.prototype.push=function(){this.splice.apply(this,b.merge([this.length,0],arguments));return this.length};d.prototype.model=function(a){return this.priv.models[a]};d.prototype.instance=function(a){return this.priv.insts[a]};d.prototype.setData=function(a){if(!f.isArrayLike(a))throw"Oswin: Collection: setData: expected an array-like object";var b=this.length;this.priv.insts=this.priv.toInstances(0,a);this.priv.syncProps(this,b);this.priv.colViewEle&&
this.priv.syncView(0,b,this.length)};d.prototype.valueOf=function(){return this.length};d.prototype.toJSON=function(){return this.priv.insts.map(function(a){return a.toJSON()})};q.prototype.make=function(a){return new d(this.models,a)};f.collection=function(){for(var a=arguments.length-1;0<=a;a--)if(!(arguments[a]instanceof Model))throw"Oswin: Collection: Invalid argument "+a+": Not a Model";return new q([].slice.call(arguments))};a.inherit(e,h);a.CollectionProperty=e;e.prototype.preferVoid=!0;e.prototype.set=
function(a,b){this.value.setData(a)};e.prototype.addViewEle=function(c,d){this.viewEles===g?this.viewEles=[c]:this.viewEles.push(c);if("void"==c.access){if(!d){c.templates=[];var e=c.$node.children();if(e.length!=this.value.priv.models.length)throw"Oswin: Collection: Number of view elements and models in collection definition must be the same: "+this.name;var f=e.length;c.templates.length=f;for(var h=0;h<f;h++){var l=b(e[h]),k=this.value.priv.models[h].make();k.parent=this.inst;c.templates[h]=new a.ViewTemplate(k,
l)}}this.value.priv.colViewEle=c;this.value.priv.syncView(0,0,this.value.length);return!1}this.view();return!0};r.prototype.url=function(a,b){var c=this.factory.priv.config.url;c!==g&&(c="update"!=a||c[a]?"delete"!=a||c[a]?c[a]:c.read:c.read);if(c===g)throw"Oswin: Model: No URL specified";return f.argsSubstitute(c,b)};r.prototype.defineData=function(b,d){var g=this;this.data=new l("",b);a.defProp(b,"data",!1,!0,function(){return g.data.get()},function(a){g.data.set(a)});f.simWalk(d.data,{},1,function(d,
g,t,k){t=g.obj[d];var m=k.name?k.name+"."+d:d,n,r=k;t instanceof Model?(n=new c(t,m,b),r=f.simWalk.stop()):t instanceof q?(n=new e(t,m,b),r=f.simWalk.stop()):g.isObj?r=n=new l(m,b):n=new h(t,m,b);b.priv.prop[m]=n;a.defProp(k.get(),d,!1,!0,function(){return n.get()},function(a){n.set(b.change(m,a))});return r},this.data)};r.prototype.mergeNestedProps=function(a,b){var c=b.priv.prop;a+=".";for(var d in c)this.prop[a+d]&&this.prop[a+d].viewEles&&(c[d].viewEles=this.prop[a+d].viewEles,c[d].view()),this.prop[a+
d]=c[d]};m.prototype.sync=!1;m.prototype.status=function(a){};m.prototype.change=function(a,b){return b};m.prototype.create=function(){var a=this.priv.url("create",arguments);return this.priv.factory.priv.sync(this,a,"POST")};m.prototype.get=function(){var a=this.priv.url("read",arguments);return this.priv.factory.priv.sync(this,a,"GET")};m.prototype.update=function(){var a=this.priv.url("update",arguments);return this.priv.factory.priv.sync(this,a,"PUT")};m.prototype["delete"]=function(){var a=this.priv.url("delete",
arguments);return this.priv.factory.priv.sync(this,a,"DELETE")};m.prototype.prop=function(a,b){if("."==a[0]&&"."==a[1]){if(this.parent===g)throw"Oswin: No parent model instance set. Property requested: "+a;return this.parent.prop(a.slice(2),b)}if(!(a in this.priv.prop))throw"Oswin: Model: No such property: "+a;if(b===g)return this.priv.prop[a].get();this.priv.prop[a].set(b)};m.prototype.view=function(b){this.priv.$view=a.view(b,this);for(var c in this.priv.prop)this.priv.prop[c].view()};m.prototype.$=
function(a){if(a===g)return this.priv.$view;var c=b([]);ves=this.priv.prop[a].viewEles;if(ves===g)return c;a=0;for(var d=ves.length;a<d;a++)c.push(ves[a].$node[0]);return c};m.prototype.toJSON=function(){return this.data.toJSON()};u.prototype.filterData=function(a,b){if(b===g)return a;if("function"===typeof b)return b(a);throw"Oswin: Model: filter not a function: "+b;};u.prototype.sync=function(a,c,d){if(!(d in x))throw"Oswin: sync: undefined operation: "+d;var e="POST"===d||"PUT"===d?JSON.stringify(this.filterData(a.toJSON(),
this.config.upFilter)):g,f=this;c=b.ajax({complete:function(b,c){a.sync=!1;a.status(c,b)},contentType:"application/json",data:e,dataType:"json",success:function(b,c,d){"object"===typeof b&&(a.data=f.filterData(b,f.config.downFilter))},type:d,url:c});a.sync=!0;a.status("start");return c};Model=function(c){var d=new u;a.defPrivate(this,d);d.config=b.extend(!0,{},w,c)};Model.prototype.change=function(a,b){"string"===typeof a&&"function"===typeof b&&(this.priv.config.change[a]=b)};Model.prototype.make=
function(a){var b=new m(this);a&&(b.data=a);return b};Model.prototype.get=function(){var a=this.make();a.get.apply(a,arguments);return a};f.model=function(a){return new Model(a)}})(q,u,jQuery);(function(f,a,b,g){a.evts={init:"init",ajax:"oswin:ajax"};a.evts_ns=".oswin";a.navigating=!1;f.config=b.extend({},{namespace:window,noAuto:!1,noBuiltins:!1,binds:[],resolver:a.default_resolver});b(function(){b(window).on("beforeunload",function(){a.navigating=!0});b(document).oswinBind()})})(q,u,jQuery);return q});
